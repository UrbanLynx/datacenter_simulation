numRuns = 30;
timeBetweenExperiments = 40*1e3; % ms

filename = 'tasks_autocreated_30_2';

numTasksPerExperiment = 22;
line1='%d %d 1 1 10 2:1000:6000 3:1000:6000 4:1000:6000 5:1000:6000 6:1000:6000 7:1000:6000 8:1000:6000 9:1000:6000 10:1000:6000 11:1000:6000';
line2='%d %d 1 1 10 2:100:6011 3:100:6011 4:100:6011 5:100:6011 6:100:6011 7:100:6011 8:100:6011 9:100:6011 10:100:6011 11:100:6011';

line3='%d %d 1 1 10 2:1000:6001:0 3:1000:6001 4:1000:6001 5:1000:6001 6:1000:6001 7:1000:6001 8:1000:6001 9:1000:6001 10:1000:6001 11:1000:6001';
line4='%d %d 1 1 10 2:100:6012 3:100:6012 4:100:6012 5:100:6012 6:100:6012 7:100:6012 8:100:6012 9:100:6012 10:100:6012 11:100:6012';

line5='%d %d 1 1 10 2:1000:6002:0 3:1000:6002:0 4:1000:6002 5:1000:6002 6:1000:6002 7:1000:6002 8:1000:6002 9:1000:6002 10:1000:6002 11:1000:6002';
line6='%d %d 1 1 10 2:100:6013 3:100:6013 4:100:6013 5:100:6013 6:100:6013 7:100:6013 8:100:6013 9:100:6013 10:100:6013 11:100:6013';
line7='%d %d 1 1 10 2:1000:6003:0 3:1000:6003:0 4:1000:6003:0 5:1000:6003 6:1000:6003 7:1000:6003 8:1000:6003 9:1000:6003 10:1000:6003 11:1000:6003';
line8='%d %d 1 1 10 2:100:6014 3:100:6014 4:100:6014 5:100:6014 6:100:6014 7:100:6014 8:100:6014 9:100:6014 10:100:6014 11:100:6014';
line9='%d %d 1 1 10 2:1000:6004:0 3:1000:6004:0 4:1000:6004:0 5:1000:6004:0 6:1000:6004 7:1000:6004 8:1000:6004 9:1000:6004 10:1000:6004 11:1000:6004';
line10='%d %d 1 1 10 2:100:6015 3:100:6015 4:100:6015 5:100:6015 6:100:6015 7:100:6015 8:100:6015 9:100:6015 10:100:6015 11:100:6015';
line11='%d %d 1 1 10 2:1000:6005:0 3:1000:6005:0 4:1000:6005:0 5:1000:6005:0 6:1000:6005:0 7:1000:6005 8:1000:6005 9:1000:6005 10:1000:6005 11:1000:6005';
line12='%d %d 1 1 10 2:100:6016 3:100:6016 4:100:6016 5:100:6016 6:100:6016 7:100:6016 8:100:6016 9:100:6016 10:100:6016 11:100:6016';
line13='%d %d 1 1 10 2:1000:6006:0 3:1000:6006:0 4:1000:6006:0 5:1000:6006:0 6:1000:6006:0 7:1000:6006:0 8:1000:6006 9:1000:6006 10:1000:6006 11:1000:6006';
line14='%d %d 1 1 10 2:100:6017 3:100:6017 4:100:6017 5:100:6017 6:100:6017 7:100:6017 8:100:6017 9:100:6017 10:100:6017 11:100:6017';
line15='%d %d 1 1 10 2:1000:6007:0 3:1000:6007:0 4:1000:6007:0 5:1000:6007:0 6:1000:6007:0 7:1000:6007:0 8:1000:6007:0 9:1000:6007 10:1000:6007 11:1000:6007';
line16='%d %d 1 1 10 2:100:6018 3:100:6018 4:100:6018 5:100:6018 6:100:6018 7:100:6018 8:100:6018 9:100:6018 10:100:6018 11:100:6018';
line17='%d %d 1 1 10 2:1000:6008:0 3:1000:6008:0 4:1000:6008:0 5:1000:6008:0 6:1000:6008:0 7:1000:6008:0 8:1000:6008:0 9:1000:6008:0 10:1000:6008 11:1000:6008';
line18='%d %d 1 1 10 2:100:6019 3:100:6019 4:100:6019 5:100:6019 6:100:6019 7:100:6019 8:100:6019 9:100:6019 10:100:6019 11:100:6019';
line19='%d %d 1 1 10 2:1000:6009:0 3:1000:6009:0 4:1000:6009:0 5:1000:6009:0 6:1000:6009:0 7:1000:6009:0 8:1000:6009:0 9:1000:6009:0 10:1000:6009:0 11:1000:6009';
line20='%d %d 1 1 10 2:100:6020 3:100:6020 4:100:6020 5:100:6020 6:100:6020 7:100:6020 8:100:6020 9:100:6020 10:100:6020 11:100:6020';
line21='%d %d 1 1 10 2:1000:6010:0 3:1000:6010:0 4:1000:6010:0 5:1000:6010:0 6:1000:6010:0 7:1000:6010:0 8:1000:6010:0 9:1000:6010:0 10:1000:6010:0 11:1000:6010:0';
line22='%d %d 1 1 10 2:100:6021 3:100:6021 4:100:6021 5:100:6021 6:100:6021 7:100:6021 8:100:6021 9:100:6021 10:100:6021 11:100:6021';

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

fID = fopen(filename, 'w');
if (fID==-1)
  error('could not open file %s for writing', filename);
end

fprintf(fID, '%d %d\n', numRuns*numTasksPerExperiment, 1);
count = 0; % for time between tasks
for ii=0:numRuns-1
  baseTaskNum = ii*numTasksPerExperiment;
  for linenum=1:2:numTasksPerExperiment
    cmd = sprintf('fprintf(fID, line%d, baseTaskNum+%d, count*timeBetweenExperiments);', linenum, linenum);
    eval(cmd)
    fprintf(fID, '\n');
    cmd = sprintf('fprintf(fID, line%d, baseTaskNum+%d, count*timeBetweenExperiments);', linenum+1, linenum+1);
    eval(cmd)
    fprintf(fID, '\n');
    count = count + 1;
    %fprintf(fID, line1, taskNum+1, ii*timeBetweenExperiments); 
    %fprintf(fID, '\n');
    %fprintf(fID, line2, taskNum+2, ii*timeBetweenExperiments); 
    %fprintf(fID, '\n');
  end
end

fclose(fID);
